<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale-1.0">
    <title>Theory - RocPerf</title>

    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="style.css">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/katex.min.js"></script>

    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/contrib/auto-render.min.js"
        onload="renderMathInElement(document.body, {
            delimiters: [
                {left: '$$', right: '$$', display: true},
                {left: '$', right: '$', display: false}
            ]
        });"></script>
    <style>
        .flowchart-wrapper {
          display: flex;
          justify-content: center; /* This centers your flowchart */
        }
        .flowchart-wrapper .mermaid {
          min-width: 600px;  /* Adjust this value as needed */
          max-width: 100%; /* Allows it to be responsive */
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">

    <!-- Header Navigation -->
    <header class="shadow-md sticky top-0 z-40">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <!-- Project Title -->
            <a href="index.html" class="text-2xl font-bold text-white">RocPerf</a>

            <!-- Mobile Menu Button -->
            <button id="mobile-menu-button" class="md:hidden text-gray-700 focus:outline-none">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path>
                </svg>
            </button>

            <!-- Desktop Navigation Links -->
            <div class="hidden md:flex items-center space-x-6">
                <div class="relative group">
                    <a href="index.html" class="text-white transition-colors font-bold">
                        Home
                        <svg class="w-4 h-4 inline-block ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                    </a>
                    
                    <div class="absolute -left-4 w-48 bg-white rounded-md shadow-lg py-1 z-50 hidden group-hover:block">
                        <a href="index.html#about" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">About RocPerf</a>
                        <a href="index.html#install" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Quick Installation</a>
                        <a href="index.html#contact" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Contact</a>
                        <a href="index.html#citation" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Citation</a>
                    </div>
                </div>
            
                <div class="relative group">
                    <button class="text-white bg-blue-600 px-3 py-2 rounded-md text-sm font-bold" aria-current="page">
                        Theory
                        <svg class="w-4 h-4 inline-block ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                    </button>
                    <div class="absolute -left-4 w-48 bg-white rounded-md shadow-lg py-1 z-50 hidden group-hover:block">
                        <a href="#governing-equations" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Equations</a>
                        <a href="#closure-models" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Closure Models</a>
                        <a href="#solution-algo" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Solution Algorithm</a>
                    </div>
                </div>
            
                <div class="relative group">
                    <a href="program.html" class="text-white transition-colors font-bold">
                        Program
                        <svg class="w-4 h-4 inline-block ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                    </a>
                    <div class="absolute -left-4 w-48 bg-white rounded-md shadow-lg py-1 z-50 hidden group-hover:block">
                        <a href="program.html#libraries" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Libraries</a>
                        <a href="program.html#solver" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">CFD Solver</a>
                        <a href="program.html#boundary-condition" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Boundary Conditions</a>
                        <a href="program.html#utilities" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Utilities</a>
                    </div>
                </div>

                <div class="relative group">
                    <a href="tutorials.html" class="text-white transition-colors font-bold">
                        Tutorials
                    </a>
                </div>

                <a href="html/index.html" class="text-white hover:text-red-500 transition-colors" target="_blank">API Documentation</a>
            </div>
        </nav>

        <!-- Mobile Menu (Hidden by default) -->
        <div id="mobile-menu" class="hidden md:hidden px-2 pt-2 pb-3 space-y-1">
            <a href="index.html" class="block px-3 py-2 rounded-md text-base font-bold text-white hover:bg-blue-700">Home</a>
            <a href="equations.html" class="block px-3 py-2 rounded-md text-base font-bold text-white bg-blue-600" aria-current="page">Theory</a>
            <a href="program.html" class="block px-3 py-2 rounded-md text-base font-bold text-white hover:bg-blue-700">Program</a>
            <a href="tutorials.html" class="block px-3 py-2 rounded-md text-base font-bold text-white hover:bg-blue-700">Tutorials</a>
            <a href="html/index.html" class="block px-3 py-2 rounded-md text-base font-bold text-white hover:bg-blue-700" target="_blank">API Documentation</a>
        </div>
    </header>

    <div class="framework-section">
        <div class="container mx-auto px-4 py-4 bg-white">
            <div class="max-w-7xl mx-auto">
                <h2 class="text-3xl font-bold text-gray-900 mb-8 text-center">Theoretical Framework</h2>
                <div class="grid grid-cols-1 md:grid-cols-12 gap-4 md:gap-8 items-start">
    
                    <div class="md:col-span-7">
                        <img src="Framework.png" alt="A representative rocket motor simulation domain and the closure models included to simulate the multiphase flow" class="mx-auto my-6 mb-6 rounded-lg shadow-md w-full"> <figcaption class="text-center text-gray-600 text-sm italic mt-2 mb-4">
                            A representative rocket motor simulation domain and the closure models included to simulate the multiphase flow.
                        </figcaption>
                    </div>
    
                    <div class="md:col-span-5">
                        <p class="text-base text-gray-700 leading-relaxed mb-6">
                            This study adopts a <strong>Multiphase Eulerian-Eulerian approach</strong> to model the flow. 
                            This framework treats the <strong>gas phase</strong>, <strong>particle phase</strong>, and <strong>propellant phase</strong> 
                            as distinct, continuous phases. The key models and assumptions are detailed below.
                        </p>
    
                        <ul class="list-disc list-outside space-y-3 pl-5 text-base text-gray-700 leading-relaxed">
                            <li>
                                <strong>Phase Modeling:</strong> The gas phase is a compressible ideal gas, while the particle phase is an incompressible fluid with constant density.
                            </li>
                            <li>
                                <strong>Particle Size:</strong> The particle size is assumed to be constant.
                            </li>
                            <li>
                                <strong>Combustion:</strong> Modeled as a single-step process producing only major gas-phase products and particles.
                            </li>
                            <li>
                                <strong>Species Conservation:</strong> Species diffusion processes are neglected due to high velocities in the rocket motor. 
                                The gas is assumed to be chemically frozen during expansion, so gas-phase species conservation equations are not solved.
                            </li>
                        </ul>
                    </div>
    
                </div> 
            </div>
        </div>
    </div>

    <!-- Docs Container with Sidebar and Content -->
    <div id="docs-container">
        <!-- Left Sidebar (Fixed) -->
        <aside class="docs-sidebar" id="main-sidebar">
            <nav>
                <ul class="nav-tree">
                    <li class="nav-item open">
                        <a href="#governing-equations" class="nav-link" onclick="toggleTree(this)">
                            <span>Governing Equations</span>
                            <svg class="chevron" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
                        </a>
                        <ul class="nav-sub">
                            <li><a href="#mass-conservation" class="nav-sub-link">Mass Conservation</a></li>
                            <li><a href="#momentum-conservation" class="nav-sub-link">Momentum Conservation</a></li>
                            <li><a href="#energy-conservation" class="nav-sub-link">Energy Conservation</a></li>
                        </ul>
                    </li>
                    
                    <li class="nav-item">
                        <a href="#closure-models" class="nav-link" onclick="toggleTree(this)">
                            <span>Closure Models</span>
                            <svg class="chevron" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
                        </a>
                        <ul class="nav-sub">
                            <li><a href="#propellant-regression" class="nav-sub-link">Propellant Regression</a></li>
                            <li><a href="#combustion-model" class="nav-sub-link">Combustion Model</a></li>
                            <li><a href="#drag-models" class="nav-sub-link">Drag Models</a></li>
                            <li><a href="#heat-transfer" class="nav-sub-link">Heat Transfer Models</a></li>
                            <li><a href="#particle-interactions" class="nav-sub-link">Particle-particle Interactions</a></li>
                        </ul>
                    </li>
                    
                    <li class="nav-item">
                         <a href="#solution-algo" class="nav-link">Solution Algorithm</a>
                    </li>

                    <li class="nav-item">
                        <a href="#numerical-methods" class="nav-link">Numerical Methods</a>
                   </li>
                </ul>
            </nav>
        </aside>

        <!-- Main Content Area (Scrollable) -->
        <main class="docs-content">
    
        <!--Governing Equations-->
        <section id="governing-equations" class="py-10 bg-white">
            <div class="container mx-auto px-6">
                <div class="max-w-7xl mx-auto">
                    <p class="text-2xl font-bold text-gray-900 mb-10">Governing Equations</p>

                    <!-- Mass Conservation Subsection -->
                    <div id="mass-conservation" class="mb-10 pt-4">
                        <h3 class="text-xl font-bold text-gray-900 mb-4 text-blue-600">Mass Conservation</h3>
                        <p class="text-base text-gray-700 leading-relaxed mb-4">
                            The mass conservation equations of gas and particle phases are given by:
                        </p>
                        <p class="text-base text-gray-700 leading-relaxed mb-4">
                            $$
                            \frac{\partial}{\partial t}(\alpha_k \rho_k) + \boldsymbol{\nabla} \cdot (\alpha_k \rho_k \boldsymbol{u}_k) = \dot{m}'''_{prop \rightarrow k}
                            $$
                        </p>
                        <p class="text-base text-gray-700 leading-relaxed mb-6">
                            where $\alpha_k$, $\rho_k$, and $\boldsymbol{u}_k$ are the volume fraction, density, and velocity of the 
                            $k^{\text{th}}$ phase, respectively. The source term due to mass transfer from propellant to $k^{\text{th}}$ 
                            phase is denoted as $\dot{m}'''_{prop \rightarrow k}$.
                        </p>
                    </div>

                    <!-- Momentum Conservation Subsection -->
                    <div id="momentum-conservation" class="mb-10 pt-4">
                        <h3 class="text-xl font-bold text-gray-900 mb-4 text-blue-600">Momentum Conservation</h3>
                        <p class="text-base text-gray-700 leading-relaxed mb-4">
                            The momentum conservation equations for the gas phase and particle phase are given by:
                        </p>
                        <p class="text-base text-gray-700 leading-relaxed mb-2">
                            <strong>Gas Phase:</strong>
                        </p>
                        <p class="text-base text-gray-700 leading-relaxed mb-4">
                            $$
                            \frac{\partial}{\partial t}(\alpha_g \rho_g \boldsymbol{u}_g) + \boldsymbol{\nabla} \cdot (\alpha_g \rho_g \boldsymbol{u}_g \boldsymbol{u}_g) = -\alpha_g \boldsymbol{\nabla} P + \boldsymbol{\nabla} \cdot (\alpha_g \boldsymbol{\tau}_g) 
                            + \boldsymbol{M}_{prop \rightarrow g} + \boldsymbol{f}_{D,g}
                            $$
                        </p>
                        <p class="text-base text-gray-700 leading-relaxed mb-2">
                            <strong>Particle Phase:</strong>
                        </p>
                        <p class="text-base text-gray-700 leading-relaxed mb-6">
                            $$
                            \frac{\partial}{\partial t}(\alpha_p \rho_p \boldsymbol{u}_p) + \boldsymbol{\nabla} \cdot (\alpha_p \rho_p \boldsymbol{u}_p \boldsymbol{u}_p) = -\alpha_p \boldsymbol{\nabla} P + \boldsymbol{\nabla} \cdot \boldsymbol{\tau}_p - \boldsymbol{\nabla} P_p + \boldsymbol{M}_{prop \rightarrow p} + \boldsymbol{f}_{D,p}
                            $$
                        </p>
                        <p class="text-base text-gray-700 leading-relaxed mb-6">
                            where $P$ is the common pressure experienced by all the phases, $\boldsymbol{\tau}_k$ is the shear stress in the $k^{\text{th}}$ phase, 
                            and $\boldsymbol{f}_{D,k}$ is the drag force experienced by the $k^{\text{th}}$ phase. The subscripts $g$ and $p$ refer to gas and particle phases, respectively.
                        </p>
                        <p class="text-base text-gray-700 leading-relaxed mb-4">
                            Here $\boldsymbol{M}_{prop \rightarrow g}$ and $\boldsymbol{M}_{prop \rightarrow p}$ represent momentum source terms for the gas phase and particle phase, 
                            respectively, due to regression. The shear stress in the gas and particle phases are modeled as follows:
                        </p>
                        <p class="text-base text-gray-700 leading-relaxed mb-4">
                            $$
                            \boldsymbol{\tau}_g = \mu_g (\boldsymbol{\nabla} \boldsymbol{u}_g + \boldsymbol{\nabla} \boldsymbol{u}_g^T) - \frac{2}{3} \mu_g (\boldsymbol{\nabla} \cdot \boldsymbol{u}_g) \boldsymbol{I}
                            $$
                        </p>
                        <p class="text-base text-gray-700 leading-relaxed mb-6">
                            $$
                            \boldsymbol{\tau}_p = \mu_p (\boldsymbol{\nabla} \boldsymbol{u}_p + \boldsymbol{\nabla} \boldsymbol{u}_p^T) 
                            + (\lambda_p - \frac{2}{3} \mu_p) (\boldsymbol{\nabla} \cdot \boldsymbol{u}_p) \boldsymbol{I}
                            $$
                        </p>
                    </div>

                    <!-- Energy Conservation Subsection -->
                    <div id="energy-conservation" class="mb-10 pt-4">
                        <h3 class="text-xl font-bold text-gray-900 mb-4 text-blue-600">Energy Conservation</h3>
                        <p class="text-base text-gray-700 leading-relaxed mb-4">
                            The energy conservation equations for the gas phase and particle phase are:
                        </p>
                        <p class="text-base text-gray-700 leading-relaxed mb-2">
                            <strong>Gas Phase:</strong>
                        </p>
                        <p class="text-base text-gray-700 leading-relaxed mb-4">
                            $$
                            \frac{\partial}{\partial t}(\alpha_g \rho_g h_g) + \boldsymbol{\nabla} \cdot (\alpha_g \rho_g \boldsymbol{u}_g h_g) = \boldsymbol{\nabla} \cdot \left( \frac{\alpha_g \lambda_g}{C_{p,g}} \boldsymbol{\nabla} h_g \right) + \alpha_g \frac{DP}{Dt} 
                            + \alpha_g \boldsymbol{\tau}_g : \boldsymbol{\nabla} \boldsymbol{u}_g + \dot{q}'''_{p \rightarrow g} 
                            + f_{D,g} \cdot (\boldsymbol{u}_p - \boldsymbol{u}_g) + H_{prop \rightarrow g}
                            $$
                        </p>
                        <p class="text-base text-gray-700 leading-relaxed mb-2">
                            <strong>Particle Phase:</strong>
                        </p>
                        <p class="text-base text-gray-700 leading-relaxed mb-6">
                            $$
                            \frac{\partial}{\partial t}(\alpha_p \rho_p h_p) + \boldsymbol{\nabla} \cdot (\alpha_p \rho_p \boldsymbol{u}_p h_p) = \alpha_p \frac{DP}{Dt} + 
                            \alpha_p \boldsymbol{\tau}_p : \boldsymbol{\nabla} \boldsymbol{u}_p + H_{prop \rightarrow p} + \dot{q}'''_{g \rightarrow p}
                            $$
                        </p>
                        <p class="text-base text-gray-700 leading-relaxed mb-6">
                            where $h$ is the enthalpy, $\lambda$ is the thermal conductivity, $C_p$ is the specific heat, 
                            $H_{\text{prop}\to k}$ is the enthalpy source term for the $k^{\text{th}}$ phase due to regression, and 
                            $q'''_{i\to j}$ is the rate of heat transfer from the $i^{\text{th}}$ phase to the $j^{\text{th}}$ phase. 
                        </p>
                        <div class="bg-blue-50 border-l-4 border-blue-500 p-4 mt-6">
                            <p class="text-sm text-gray-700">
                                <strong>Note:</strong> The source terms due to propellant regression are only relevant to the computational cells adjacent to the surface of the propellant bed. 
                                For the remaining computational cells inside the rocket motor, only the source terms arising from particle–gas interactions are relevant.
                            </p>
                        </div>
                    </div>

                </div>
            </div>
        </section>

        <!--Closure Models-->
        <section id="closure-models" class="py-10 bg-white">
            <div class="container mx-auto px-6">
                <div class="max-w-7xl mx-auto">
                    <p class="text-2xl font-bold text-gray-900 mb-10">Closure Models</p>

                    <!-- Propellant Regression Subsection -->
                    <div id="propellant-regression" class="mb-10 pt-4">
                        <h3 class="text-xl font-bold text-gray-900 mb-4 text-blue-600">Propellant Surface Regression Model</h3>
                        <img src="images/PropellantBalance.jpg" alt="Propellant surface regression model illustration" class="mx-auto my-6 rounded-lg shadow-md w-full max-w-2xl">
                        <figcaption class="text-center text-gray-600 text-sm italic mt-2 mb-6">
                            Schematic of the propellant phase along with mass transfer through the burning surface
                        </figcaption>
                        <p class="text-base text-gray-700 leading-relaxed mb-4">The propellant phase is stationary ($u_{prop}$ = 0). 
                        Therefore, only mass and energy conservation equations are solved for the propellant phase.
                        The mass conservation equation for the propellant phase is written as:
                        $$
                        \frac{d}{dt}(\alpha_{prop} \rho_{prop})  = -\dot{m}'''_{prop} 
                        $$
                        The propellant mass burning rate or propellant mass consumption rate is denoted as $\dot{m}'''_{prop}$, and 
                        is a function of propellant burning rate and the burning surface area. The burning rate of the propellant is
                        expressed as the function of pressure as per  St. Robert's law. The mass burning rate and the burning rate law 
                        is expressed as:
                        $$
                        \dot{m}'''_{prop} = \rho_{prop}r_bs_b
                        $$
                        $$
                        r_b[\text{cm/s}] = a(P[\text{MPa}])^n
                        $$
                        where, $r_b$ is the burning rate of the propellant with the units of cm/s and $s_b$ is the burning surface area
                        per unit volume of the propellant. The burning rate pressure exponent is denoted as $n$ and the pre-exponential factor 
                        is denoted as $a$. The pressure is substituted in the units of MPa in the burning rate expression. The pre-exponential
                        factor and the burning rate pressure exponent are one of the inputs to the program. The available surface regression 
                        model can be found <a href="program.html#interface-tracking-model" class="text-blue-700 underline">here</a>.
                        The energy conservation equation for the propellant phase is written as:
                        $$
                        \frac{d}{dt}(\alpha_{prop} \rho_{prop} h_{prop})  = -\dot{m}'''_{prop}h_{prop} + \alpha_{prop}\frac{dP}{dt}
                        $$
                        where, $h_{prop}$ is the enthalpy of the propellant phase. 
                        Expressing the energy equation in non-conservative form of the equation in terms of internal energy will lead 
                        to $\frac{de_{prop}}{dt} = 0$, suggesting the specific internal energy of the propellant phase is constant. The 
                        present framework model does not explicitly resolve the reaction zone. The propellant at the initial temperature is assumed 
                        to get converted to products at the interface and the rate of the reaction is dictated by the burning rate law 
                        which is one of the input to the model. Therefore, the energy equation for the propellant phase need not be solved. 
                    </p>
                    </div>
                    
                    <!-- Combustion Model Subsection -->
                    <div id="combustion-model" class="mb-10 pt-4">
                        <h3 class="text-xl font-bold text-gray-900 mb-4 text-blue-600">Combustion Model</h3>
                        <p class="text-base text-gray-700 leading-relaxed mb-4">
                        The combustion of the propellant is modelled as a single step global reaction:
                        $$
                        \text{Propellant} \rightarrow \text{Gas phase} + \text{Particle phase} 
                        $$ 
                        The mass fraction of the gas phase and particle phase can be obtained from the global reaction, and is denoted as 
                        $X_g$ and $X_p$, respectively. The mass source term for the particle and gas phase are computed as, 
                        $$
                        \dot{m}'''_{prop\rightarrow g} = X_g\dot{m}'''_{prop} \hspace{30pt} \dot{m}'''_{prop\rightarrow p} = X_p\dot{m}'''_{prop}
                        $$
                        The momentum source terms for the gas and particle phases are calculated by performing interfacial mass conservation 
                        locally near the propellant surface. The interfacial mass balance equation at the propellant surface becomes,
                        $$
                        \left[\alpha_g \rho_g (\boldsymbol{v}_g \cdot \boldsymbol{\hat{n}} - r_b) \right]s_b +
                        \left[\alpha_p \rho_p (\boldsymbol{v}_p \cdot \boldsymbol{\hat{n}} - r_b) \right]s_b = -\rho_{prop}r_bs_b
                        $$
                        where the radially outward unit normal vector of the propellant surface is denoted as $\boldsymbol{\hat{n}}$. Assuming
                        the particles are not yet dragged by the gas at the propellant surface, the velocity of the particle phase is taken 
                        to be zero ($\boldsymbol{v}_p = 0$). The above equation is used to obtain the velocity of gas phase at the propellant 
                        surface. Therefore, the momentum sources of the gas and particle phase due to propellant regression are:
                        $$
                        \boldsymbol{M}_{prop \rightarrow g} = \dot{m}'''_{prop \rightarrow g}\boldsymbol{v}_g \hspace{30pt}
                        \boldsymbol{M}_{prop \rightarrow p} = \dot{m}'''_{prop \rightarrow p}\boldsymbol{v}_p
                        $$
                        Note that the interfacial momentum balance should also be considered to obtain the velocity of the gas and particle 
                        phase at the propellant surface. Such a balance would suggest that there is a pressure jump across the propellant 
                        surface as a result of the thrust force experienced by the propellant phase due to mass ejection. 
                        A simple calculation suggests that the thrust force per unit area is of order $\sim$ 1 kPa, and the chamber pressures 
                        are much higher than 100 kPa. Therefore, this effect is neglected. The temperature $(T_{ad})$ of the gas and particles
                        entering the combustion chamber is obtained by performing energy balance between reactants and products,
                        i.e., equating the enthalpy of reactants and products. The enthalpy of the gas and particle phase are then computed as:
                        $$
                        h_{prop \rightarrow k} = \Delta h_{f, k}^0 + \int_{T_{ref}}^{T_{ad}} C_{p, k}(T) \,dT
                        $$ 
                        where, $\Delta h_{f, k}^0$ is the enthalpy of formation of $k^{\text{th}}$ phase and $C_{p, k}$ is the constant pressure
                        specific heat of $k^{\text{th}}$ phase. If the gas phase constitutes of mixture of various species, the enthalpy of 
                        formation and the constant pressure specific heat can be obtained as weighting based on the mass fractions of the individual 
                        species in the mixture. The mass fraction weighted coefficients can be given as inputs to the model.
                        Thus, the enthalpy source term of the gas and particle phase is expressed as, 
                        $$
                        H_{prop \rightarrow g} = \dot{m}'''_{prop \rightarrow g} \hspace{30pt} 
                        H_{prop \rightarrow p} = \dot{m}'''_{prop \rightarrow p}
                        $$
                    </p>
                    </div>

                    <!-- Drag Models Subsection -->
                    <div id="drag-models" class="mb-10 pt-4">
                        <h3 class="text-xl font-bold text-gray-900 mb-4 text-blue-600">Drag Models</h3>
                        <p class="text-base text-gray-700 leading-relaxed mb-4">
                        Various drag models are included in the library that provides a closure model for the drag coefficient between gas and particle
                        phase. The drag force is calculated from the drag coefficient as follows:
                        $$
                        \boldsymbol{f}_{D, g} = -\boldsymbol{f}_{D, p} = 
                        \frac{3}{4}\frac{\alpha_p\mu_g}{d_p^2}C_D\text{Re}_p(\boldsymbol{u}_p - \boldsymbol{u}_g)
                        $$
                        where, $d_p$ is particle size, $\mu_g$ is the gas phase viscosity, $C_D$ is the drag coefficient and, $Re_p$ is the particle
                        Reynolds number and is computed as:
                        $$
                        \text{Re}_p = \frac{\rho_g |\boldsymbol{u}_g - \boldsymbol{u}_p| d_p}{\mu_g}
                        $$ 
                        For CD nozzle flows, the gas particle interactions are expected to include compressibility and rarefactional effects in addition
                        to inertial effects. The drag model that includes all these effects is developed by 
                        <a href="https://doi.org/10.2514/1.J060153" target="_blank" rel="noopener noreferrer" class="text-blue-700 underline">
                            Eric Loth et. al (2021)
                        </a>. For detailed information about the available heat transfer models and their implementation, refer to <a href="program.html#particle-drag-model" class="text-blue-700 underline">Particle Drag Models</a>. 
                        <!-- Additionally, few standard drag models such as Schiller Naumann, Clift Gauvin, Gidaspow - Ergun WenYu and Henderson's drag model
                        are included with this library.    -->
                    </p>
                    </div>

                    <!-- Heat Transfer Subsection -->
                    <div id="heat-transfer" class="mb-10 pt-4">
                        <h3 class="text-xl font-bold text-gray-900 mb-4 text-blue-600">Heat Transfer Models</h3>
                        <p class="text-base text-gray-700 leading-relaxed mb-4">
                        The interphase heat transfer between gas and particle phases are modelled based on Ranz-Marshall correlation. To include rarefactional
                        effects, the correction proposed by Kavanau is used. The heat transfer between gas and particle phases is calculated as follows,
                        $$
                        Q_{HT, p} = -Q_{HT, g} = 6\frac{\alpha_p\lambda_g}{d_p^2}\text{Nu}(T_g - T_p)
                        $$ 
                        where, $\text{Nu}$ is the Nusselt number calculated based on the heat transfer model. 
                        For detailed information about the available heat transfer models and their implementation, refer to <a href="program.html#heat-transfer-model" class="text-blue-700 underline">Heat Transfer Models</a>. 
                        <!-- The library includes Kavanau Ranz Marshall correlation and 
                        Drake's heat transfer correlation.  -->
                    </p>
                    </div>

                    <!-- Particle Interactions Subsection -->
                    <div id="particle-interactions" class="mb-10 pt-4">
                        <h3 class="text-xl font-bold text-gray-900 mb-4 text-blue-600">Particle-particle Interaction Models</h3>
                        <p class="text-base text-gray-700 leading-relaxed mb-4">
                        The particle-particle interactions are modelled based on Kinetic Theory for Granular Flow  (KTGF). The solid pressure and solid shear stress 
                        is modelled based on the closure models which is a function of granular kinetic energy. A separate governing equation is solved for granular 
                        kinetic energy ($\Theta$) and is expressed as:
                        $$
                        \frac{3}{2} \left[\frac{\partial}{\partial t}(\alpha_p\rho_p\Theta) + \boldsymbol{\nabla}\cdot(\alpha_p\rho_p\Theta \boldsymbol{u}_p)\right] = 
                        \left[(-P_p\mathbf{I} + \boldsymbol{\tau}_p):\boldsymbol{\nabla} \boldsymbol{u}_p\right] + \boldsymbol{\nabla}\cdot(\kappa_p\boldsymbol{\nabla}\Theta) 
                        - \gamma_p - J_p 
                        $$
                        The first term in the right-hand side of the equation denotes the production of fluctuating energy for the particle phase through stress; 
                        the second term is the diffusion of the granular energy; the third term is the dissipation of the fluctuating energy due to inelastic collisions 
                        between particles and the fourth term is the production or destruction of energy due to drag force fluctuations exerted on the particle. 
                        The following are the available KTGF models that are mirrored from OpenFOAM-v2112. 
                        <table class="ktgf-model-table">
                            <thead>
                              <tr>
                                <th style="width: 25%;">Category</th>
                                <th style="width: 35%;">Available Models</th>
                                <th style="width: 40%;">Key References</th>
                              </tr>
                            </thead>
                            <tbody>
                              <tr>
                                <td><strong>Granular Pressure</strong></td>
                                <td>Lun's Model, Syamlal-Rogers-O'Brien</td>
                                <td class="ref-list">
                                  • <a href="https://doi.org/10.1017/S0022112084000586" target="_blank">Lun et al. (1984)</a><br>
                                  • <a href="https://mfix.netl.doe.gov/doc/mfix-archive/mfix_legacy_manual/Theory.pdf" target="_blank">Syamlal et al. (1993)</a>
                                </td>
                              </tr>
                              <tr>
                                <td><strong>Viscosity &amp; Conductivity</strong></td>
                                <td>Hrenya-Sinclair, Gidaspow, Syamlal</td>
                                <td class="ref-list">
                                  • <a href="https://doi.org/10.1002/aic.690430402" target="_blank">Hrenya &amp; Sinclair (1997)</a><br>
                                  • <a href="https://books.google.com/books?id=DTAFZ9rIfQwC" target="_blank">Gidaspow (1994)</a><br>
                                  • <a href="https://mfix.netl.doe.gov/doc/mfix-archive/mfix_legacy_manual/Theory.pdf" target="_blank">Syamlal et al. (1993)</a>
                                </td>
                              </tr>
                              <tr>
                                <td><strong>Radial Distribution</strong></td>
                                <td>Gidaspow, Lun-Savage, Sinclair-Jackson, Carnahan-Starling</td>
                                <td class="ref-list">
                                  • <a href="https://books.google.com/books?id=DTAFZ9rIfQwC" target="_blank">Gidaspow (1994)</a><br>
                                  • <a href="https://doi.org/10.1007/BF01182538" target="_blank">Lun &amp; Savage (1986)</a><br>
                                  • <a href=" https://doi.org/10.1002/aic.690350908" target="_blank">Sinclair &amp; Jackson (1989)</a><br>
                                  • <a href="https://doi.org/10.1063/1.1672048" target="_blank">Carnahan &amp; Starling (1969)</a>
                                </td>
                              </tr>
                            </tbody>
                          </table>
                    </p>
                    </div>
                </div>
            </div>
        </section>

        <!--Solution Algorithm-->
        <section id="solution-algo" class="py-10 bg-white">
            <div class="container mx-auto px-6">
                <div class="max-w-7xl mx-auto">
                    <p class="text-2xl font-bold text-gray-900 mb-10">Solution Algorithm</p>
                    <img src="flowchart.png" alt="Flowchart illustrating solution algorithm" class="mx-auto my-6 rounded-lg shadow-md w-3/4">
                    <figcaption class="text-center text-gray-600 text-sm italic mt-2 mb-4">
                        Flowchart illustrating solution algorithm [Reprinted with permission from AIAA]
                    </figcaption>
                </div>
            </div>
        </section>

        <!--Numerical Methods-->
        <section id="numerical-methods" class="py-10 bg-white">
            <div class="container mx-auto px-6">
                <div class="max-w-7xl mx-auto">
                    <p class="text-2xl font-bold text-gray-900 mb-10">Numerical Methods</p>
                    The governing equations are discretized using the Finite Volume Method (FVM) framework inherent to OpenFOAM. 
                    Consequently, the solver maintains full compatibility with the extensive library of numerical schemes for 
                    spatial and temporal derivatives implemented within the OpenFOAM environment. Users may utilize the run-time 
                    selection mechanism to specify these schemes via the fvSchemes dictionary, without recompiling the source code.
                </div>
            </div>
        </section>

    </main>
    </div>

    <!-- Footer -->
    <footer>
        <p class="mb-4 text-gray-500 max-w-6xl mx-auto">
            Distributed under the GNU General Public License v3 (GPL-3.0). See the 
            <a href="https://github.com/Ganeshkumar-V/Propellant-Regression-Framework/main/LICENSE" 
               target="_blank" rel="noopener noreferrer" 
               class="text-gray-500 hover:text-gray-500 hover:underline">
               LICENSE
            </a> 
            file for the full text. This software is an independent project and is neither endorsed by, nor 
            associated with OpenCFD Ltd or the OpenFOAM® project. OpenFOAM® is a 
            registered trademark of OpenCFD Ltd.
        </p>

        <p>
            © 2025 Ganeshkumar V. All rights reserved.
        </p>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>

    <script>
      mermaid.initialize({ startOnLoad: true });
    </script>

    <script src="https://cdn.tailwindcss.com"></script>

    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/katex.min.js" integrity="sha384-hIoIeC+BIfme/j+Lg+Ie8HhU3SvuxfwB3kI/S6UlP8Vq+M/fG5/SPOdsLWWiMcvx" crossorigin="anonymous"></script>

    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/contrib/auto-render.min.js" integrity="sha384-43gA9SRQAFBuPWCiR/mkIhP+E8SjO7Iib/o9dZISTQ/kQceYPLQxfM/E1fixKJi/" crossorigin="anonymous"></script>

    <script>
        renderMathInElement(document.body, {
            delimiters: [
                {left: '$$', right: '$$', display: true},
                {left: '$', right: '$', display: false}
            ]
        });
    </script>
    
    <script>
        // Toggle sidebar menu items
        function toggleTree(element) {
            const listItem = element.parentElement;
            listItem.classList.toggle('open');
        }

        // Smooth scrolling for sidebar links with offset for header
        document.querySelectorAll('#main-sidebar a[href^="#"]').forEach(link => {
            link.addEventListener('click', function(e) {
                const href = this.getAttribute('href');
                if (href === '#' || href === '') return;
                
                const target = document.querySelector(href);
                if (target) {
                    e.preventDefault();
                    
                    // Get the position of the target
                    const targetPosition = target.getBoundingClientRect().top + window.scrollY;
                    // Subtract header height (64px) and add some padding (20px)
                    const offsetPosition = targetPosition - 64 - 20;
                    
                    // Scroll to the adjusted position
                    window.scrollTo({
                        top: offsetPosition,
                        behavior: 'smooth'
                    });
                }
            });
        });

        // Update active link as user scrolls
        function updateActiveLink() {
            const sections = document.querySelectorAll('section[id]');
            const links = document.querySelectorAll('#main-sidebar a[href^="#"]');
            
            // Remove active class from all links
            links.forEach(link => link.classList.remove('active'));
            
            // Find the section currently in view
            let currentSection = null;
            sections.forEach(section => {
                const rect = section.getBoundingClientRect();
                
                // Check if section is near the top of viewport
                if (rect.top < window.innerHeight * 0.3 && rect.bottom > 100) {
                    currentSection = section;
                }
            });
            
            if (currentSection) {
                const activeLink = document.querySelector(`#main-sidebar a[href="#${currentSection.id}"]`);
                if (activeLink) {
                    activeLink.classList.add('active');
                    
                    // Expand parent item if it's a sub-link
                    const parentLi = activeLink.closest('.nav-item');
                    if (parentLi) {
                        parentLi.classList.add('open');
                    }
                }
            }
        }

        // Listen for scroll events on the window (body)
        window.addEventListener('scroll', updateActiveLink);
        
        // Initial call to set active link
        updateActiveLink();

        const menuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');
        menuButton.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
        });
    </script>

</body>
</html>
